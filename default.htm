<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>TypeScript HTML App</title>
    <link rel="stylesheet" href="app.css" type="text/css" />
    
    <!-- submodules -->
    <script src="submodules/promise/Promise.js"></script>
    <script src="submodules/streams/streams.js"></script>
    <script src="submodules/mjpegdecoder/mjpegdecoder.js"></script>

    <!-- extensions -->
    <script src="extensions.js"></script>

    <script src="scaredpoors.js"></script>
    <script src="freezingmanager.js"></script>
    <script src="dragmanager.js"></script>
    <script src="mjpegplayer.js"></script>
    <script src="app.js"></script>
</head>
<body style="display: -ms-grid; -ms-grid-rows: 1fr 28px; -ms-grid-columns: 1fr;">
    <input id="videoInput" type="file" onchange="loadVideo(event.target.files[0])" style="display: none;" />
    <div id="presenter">
        <video id="videoNativeElement" style="display: none;"></video>
    </div>
    <div id="panel" onclick="videoInput.click()">
        <h1>Scareds</h1>
        <span id="openOptions" class="textButton" style="display: none;" onclick="options.style.display = ''; requestAnimationFrame(function () { options.style.opacity = 0.8; })">Options</span>
        <p id="phaseText">
            Click the screen to load a video file.
        </p>
        <p id="areaText" style="display: none;">
            X: <span id="areaXText"></span><br />
            Y: <span id="areaYText"></span><br />
            Width: <span id="areaWidthText"></span><br />
            Height: <span id="areaHeightText"></span><br />
        </p>
        <p id="analysisText" style="display: none;">
            Total elapsed time: <span id="elapsedTimeText">0</span><br />
            Total frozen time: <span id="frozenTimeText">0</span><br />
            Ratio: <span id="frozenRatioText">Pending...</span>
        </p>
    </div>
    <div id="options" style="display: none;">
        <div>
            <input id="videoSlider" type="range" onchange="videoControl.currentTime = this.value;" value="0" />
        </div>
        <div class="textButton" style="-ms-grid-row: 2; -ms-grid-column-align: center" onclick="options.style.display = 'none'; requestAnimationFrame(function () { options.style.opacity = 0; })">Close</div>
    </div>

    <div style="-ms-grid-row: 2;" id="statusPresenter" class="active"></div>
</body>
</html>